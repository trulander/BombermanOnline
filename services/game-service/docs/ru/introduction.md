[![English](https://img.shields.io/badge/lang-English-blue)](../en/introduction.md)

# Введение в Game Service

Сервис Игр (Game Service) — это сердце онлайн-платформы Bomberman. Он отвечает за всю основную игровую логику, от создания матчей до управления взаимодействиями игроков в реальном времени.

## Ключевые функции

-   **Управление игровыми сессиями**: Создание, настройка и завершение игровых сессий.
-   **Поддержка игровых режимов**:
    -   `Кампания (Campaign)`: Кооперативное или одиночное прохождение уровней.
    -   `Все против всех (Free For All)`: Каждый игрок сам за себя.
    -   `Захват флага (Capture The Flag)`: Командная игра с захватом флагов (в планах, базовая структура есть).
-   **Управление игроками**: Добавление, удаление, отслеживание состояния (жизни, усиления, позиция), обработка ввода команд.
-   **Игровая механика**:
    -   Размещение и взрыв бомб.
    -   Использование другого оружия (пули, мины).
    -   Взаимодействие с разрушаемыми блоками.
    -   Подбор и применение усилений (Power-ups).
-   **Управление картами**:
    -   Генерация случайных карт с различными параметрами.
    -   Загрузка карт из предопределенных шаблонов.
    -   Поддержка цепочек карт для последовательного прохождения (например, в кампании).
-   **Искусственный интеллект (AI)**: Базовое управление поведением врагов на карте.
-   **Событийная модель**: Взаимодействие с другими сервисами и клиентами через NATS для обновлений состояния игры в реальном времени и обработки команд.
-   **REST API**: Предоставление API для управления ресурсами, связанными с картами (шаблоны, группы, цепочки).
-   **Персистентность и кеширование**: Хранение данных о шаблонах карт в PostgreSQL и их кеширование в Redis для быстрого доступа.

## Взаимодействие в экосистеме

Game Service тесно интегрирован с другими компонентами платформы:

-   **WebAPI Service**: Через него пользователи могут инициировать создание игр, просматривать доступные игры и т.д. (предположительно).
-   **Auth Service**: Для аутентификации и авторизации игроков (через middleware, получая данные пользователя из заголовков).
-   **NATS**: Как шина сообщений для игровых событий, команд от игроков и обновлений состояния игры.
-   **Клиентские приложения**: Получают обновления состояния игры и отправляют команды игрока через NATS.

Этот сервис спроектирован так, чтобы быть масштабируемым и отказоустойчивым, обеспечивая плавный и увлекательный игровой процесс.