# WebAPI Service
[![English](https://img.shields.io/badge/lang-English-blue)](README.md)

Этот документ описывает сервис **WebAPI** для игры **Bomberman Online**. Он служит центральной точкой входа для клиентских приложений, предоставляя RESTful API и WebSocket-соединения для игровых взаимодействий в реальном времени.

## 1. Назначение сервиса

`WebAPI Service` выполняет роль шлюза между клиентскими приложениями (веб-фронтенд) и внутренними микросервисами (`Game Allocator Service`, `Game Service`). Его ключевые функции включают:

*   **Предоставление RESTful API**: Для управления игровыми комнатами.
*   **Управление WebSocket-соединениями**: Для обмена игровыми событиями в реальном времени.
*   **Проксирование запросов**: Перенаправление HTTP-запросов к соответствующим экземплярам `Game Service`.
*   **Взаимодействие с NATS**: Асинхронная коммуникация с другими бэкенд-сервисами.
*   **Кеширование**: Хранение адресов игровых сервисов для быстрого доступа.
*   **Метрики**: Предоставление метрик в формате Prometheus для мониторинга.

## 2. Подробная документация

Эта документация была расширена и разделена на несколько файлов для более детального ознакомления.

*   [**Архитектура**](./docs/ru/architecture.md): Подробное описание внутренней структуры сервиса.
*   [**Взаимодействие с другими сервисами**](./docs/ru/interactions.md): Диаграммы и объяснения коммуникаций.
*   [**Сценарии использования (Use Cases)**](./docs/ru/use-cases.md): Пошаговое описание основных пользовательских сценариев.
*   [**Описание API**](./docs/ru/api.md): Полная справка по всем RESTful API и WebSocket событиям.
*   [**Конфигурация**](./docs/ru/configuration.md): Руководство по настройке сервиса.
*   [**Развертывание**](./docs/ru/deployment.md): Инструкции по запуску сервиса.

## 3. Используемые технологии

*   **FastAPI**: Веб-фреймворк для создания API.
*   **Uvicorn**: ASGI-сервер.
*   **Python-SocketIO**: Библиотека для реализации WebSocket.
*   **NATS.py**: Клиент для системы обмена сообщениями NATS.
*   **Redis**: Хранилище для кэширования.
*   **HTTPLX**: Асинхронный HTTP-клиент для проксирования.
*   **Py-Consul**: Клиент для обнаружения сервисов.
*   **Aioprometheus**: Инструментарий для метрик Prometheus.